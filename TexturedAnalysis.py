import load_ardfimport ForceCurveFuncsimport ForceCurveVisualisationfrom InterfaceCore import data_load_in, data_convert, data_process, flatten_planefit, sanitize_FCdata, calculate_savgol_params, heatmap2d, forcemapplot, side_profile, is_MACimport matplotlib.pyplot as pltimport numpy as npimport syssys.path.append(r'L:\ljam8326 Asylum Research AFM\Infused Teflon Wrinkle Samples in Air\230721 Samples')# %%file_name = "TW10cSt00"is_MAC(initiator=False, mac=True)metadict = load_ardf.metadict_output(file_name+'.ARDF')date_taken = metadict["LastSaveForce"][-7:-1]newpath = is_MAC(file_name, date_taken, True)save_forcemap = Truesave_heatmap = Truesave_sideprofile = Truex_pos, y_pos = (8, 3)# %%raw, defl, metadict = data_load_in(file_name)# %%ForceMap, ExtendsForce, points_per_line = data_convert(raw, defl, metadict, zero_constant_compliance=False)# %%dropin_loc, bubble_height, oil_height, topog = data_process(ForceMap, points_per_line, debug=[1, 1])flat_topog = flatten_planefit(topog)# %%# bubble_height[43,15] =# oil_height[42,27] = 0heatmap2d(bubble_height, file_name, metadict, postnomial='Bubble Thickness')heatmap2d(oil_height, file_name, metadict, postnomial='Lubricant Thickness')heatmap2d(topog, file_name, metadict, postnomial='Topography')heatmap2d(flat_topog, file_name, metadict, postnomial = 'Topography')# %%x_pos, y_pos=[20, 20]# %%forcemapplot(ForceMap[x_pos][y_pos], (x_pos, y_pos), file_name, dropin_loc, bubble_height, oil_height, topog)# %%side_profile([oil_height, bubble_height], 20, metadict, points_per_line, file_name)